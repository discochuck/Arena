/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/tokens/close-to-migration/route";
exports.ids = ["app/api/tokens/close-to-migration/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("pg");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:crypto");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftokens%2Fclose-to-migration%2Froute&page=%2Fapi%2Ftokens%2Fclose-to-migration%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftokens%2Fclose-to-migration%2Froute.ts&appDir=C%3A%5CUsers%5CJfyrd%5CDesktop%5CArena%5Cfrontend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJfyrd%5CDesktop%5CArena%5Cfrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftokens%2Fclose-to-migration%2Froute&page=%2Fapi%2Ftokens%2Fclose-to-migration%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftokens%2Fclose-to-migration%2Froute.ts&appDir=C%3A%5CUsers%5CJfyrd%5CDesktop%5CArena%5Cfrontend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJfyrd%5CDesktop%5CArena%5Cfrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Jfyrd_Desktop_Arena_frontend_app_api_tokens_close_to_migration_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/tokens/close-to-migration/route.ts */ \"(rsc)/./app/api/tokens/close-to-migration/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/tokens/close-to-migration/route\",\n        pathname: \"/api/tokens/close-to-migration\",\n        filename: \"route\",\n        bundlePath: \"app/api/tokens/close-to-migration/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Jfyrd\\\\Desktop\\\\Arena\\\\frontend\\\\app\\\\api\\\\tokens\\\\close-to-migration\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Jfyrd_Desktop_Arena_frontend_app_api_tokens_close_to_migration_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/tokens/close-to-migration/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ0b2tlbnMlMkZjbG9zZS10by1taWdyYXRpb24lMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnRva2VucyUyRmNsb3NlLXRvLW1pZ3JhdGlvbiUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnRva2VucyUyRmNsb3NlLXRvLW1pZ3JhdGlvbiUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNKZnlyZCU1Q0Rlc2t0b3AlNUNBcmVuYSU1Q2Zyb250ZW5kJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNKZnlyZCU1Q0Rlc2t0b3AlNUNBcmVuYSU1Q2Zyb250ZW5kJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzBDO0FBQ3ZIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmFsbGlzdGljLWRhc2hib2FyZC8/MmY5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxKZnlyZFxcXFxEZXNrdG9wXFxcXEFyZW5hXFxcXGZyb250ZW5kXFxcXGFwcFxcXFxhcGlcXFxcdG9rZW5zXFxcXGNsb3NlLXRvLW1pZ3JhdGlvblxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvdG9rZW5zL2Nsb3NlLXRvLW1pZ3JhdGlvbi9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3Rva2Vucy9jbG9zZS10by1taWdyYXRpb25cIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3Rva2Vucy9jbG9zZS10by1taWdyYXRpb24vcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxKZnlyZFxcXFxEZXNrdG9wXFxcXEFyZW5hXFxcXGZyb250ZW5kXFxcXGFwcFxcXFxhcGlcXFxcdG9rZW5zXFxcXGNsb3NlLXRvLW1pZ3JhdGlvblxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS90b2tlbnMvY2xvc2UtdG8tbWlncmF0aW9uL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftokens%2Fclose-to-migration%2Froute&page=%2Fapi%2Ftokens%2Fclose-to-migration%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftokens%2Fclose-to-migration%2Froute.ts&appDir=C%3A%5CUsers%5CJfyrd%5CDesktop%5CArena%5Cfrontend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJfyrd%5CDesktop%5CArena%5Cfrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/tokens/close-to-migration/route.ts":
/*!****************************************************!*\
  !*** ./app/api/tokens/close-to-migration/route.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! viem */ \"(rsc)/./node_modules/viem/_esm/clients/createPublicClient.js\");\n/* harmony import */ var viem__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! viem */ \"(rsc)/./node_modules/viem/_esm/clients/transports/http.js\");\n/* harmony import */ var viem_chains__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! viem/chains */ \"(rsc)/./node_modules/viem/_esm/chains/definitions/avalanche.js\");\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pg */ \"pg\");\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pg__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\n\n// Constants\nconst BONDING_CURVE_TARGET = 75000 // Target ETH value for migration\n;\nconst WAVAX_ADDRESS = \"0xB31f66AA3C1e785363F0875A1B74E27b85FD66c7\";\nconst TOKEN_ABI = [\n    {\n        name: \"name\",\n        type: \"function\",\n        stateMutability: \"view\",\n        inputs: [],\n        outputs: [\n            {\n                type: \"string\"\n            }\n        ]\n    },\n    {\n        name: \"symbol\",\n        type: \"function\",\n        stateMutability: \"view\",\n        inputs: [],\n        outputs: [\n            {\n                type: \"string\"\n            }\n        ]\n    },\n    {\n        name: \"decimals\",\n        type: \"function\",\n        stateMutability: \"view\",\n        inputs: [],\n        outputs: [\n            {\n                type: \"uint8\"\n            }\n        ]\n    }\n];\n// Database connection\nconst pool = new pg__WEBPACK_IMPORTED_MODULE_1__.Pool({\n    connectionString: process.env.DATABASE_URL,\n    ssl:  false ? 0 : false\n});\n// Viem client\nconst client = (0,viem__WEBPACK_IMPORTED_MODULE_2__.createPublicClient)({\n    chain: viem_chains__WEBPACK_IMPORTED_MODULE_3__.avalanche,\n    transport: (0,viem__WEBPACK_IMPORTED_MODULE_4__.http)(process.env.NEXT_PUBLIC_RPC_URL || \"https://api.avax.network/ext/bc/C/rpc\")\n});\nasync function getTokenDetails(tokenAddress) {\n    try {\n        const tokenContract = {\n            address: tokenAddress,\n            abi: TOKEN_ABI\n        };\n        const [name, symbol, decimals] = await client.multicall({\n            contracts: [\n                {\n                    ...tokenContract,\n                    functionName: \"name\"\n                },\n                {\n                    ...tokenContract,\n                    functionName: \"symbol\"\n                },\n                {\n                    ...tokenContract,\n                    functionName: \"decimals\"\n                }\n            ]\n        });\n        return {\n            name: name.result || \"Unknown\",\n            symbol: symbol.result || \"UNKNOWN\",\n            decimals: decimals.result || 18\n        };\n    } catch (error) {\n        console.error(\"Error fetching token details:\", error);\n        return {\n            name: \"Unknown Token\",\n            symbol: \"UNKNOWN\",\n            decimals: 18\n        };\n    }\n}\nasync function getCloseToMigrationFromDatabase(limit = 20) {\n    try {\n        const query = `\r\n      SELECT \r\n        td.token_address,\r\n        td.creator_address,\r\n        td.deployed_at,\r\n        td.total_supply,\r\n        td.pair_address,\r\n        td.lp_deployed,\r\n        us.last_price,\r\n        us.traders_holding,\r\n        us.portfolio_total_pnl,\r\n        us.last_updated\r\n      FROM token_deployments td\r\n      LEFT JOIN user_summary us ON td.creator_address = us.user_address\r\n      WHERE td.lp_deployed = FALSE \r\n        AND td.deployed_at >= NOW() - INTERVAL '7 days'\r\n        AND us.last_price IS NOT NULL\r\n        AND us.last_price > 0.05\r\n      ORDER BY us.last_price DESC, td.deployed_at DESC\r\n      LIMIT $1\r\n    `;\n        const result = await pool.query(query, [\n            limit\n        ]);\n        const tokens = await Promise.all(result.rows.map(async (row)=>{\n            const tokenDetails = await getTokenDetails(row.token_address);\n            // Calculate migration progress based on current price vs target\n            const currentPrice = parseFloat(row.last_price) || 0;\n            const migrationProgress = Math.min(currentPrice / 0.1 * 100, 99) // Assuming 0.1 is migration threshold\n            ;\n            // Estimate time to migration based on current progress\n            let timeToMigration = \"Unknown\";\n            if (migrationProgress > 80) {\n                timeToMigration = `${Math.round(Math.random() * 24 + 1)} hours`;\n            } else if (migrationProgress > 60) {\n                timeToMigration = `${Math.round(Math.random() * 5 + 1)} days`;\n            } else {\n                timeToMigration = `${Math.round(Math.random() * 14 + 7)} days`;\n            }\n            return {\n                address: row.token_address,\n                name: tokenDetails.name,\n                symbol: tokenDetails.symbol,\n                decimals: tokenDetails.decimals,\n                creator: row.creator_address,\n                launched: new Date(row.deployed_at),\n                price: currentPrice,\n                marketCap: currentPrice * parseInt(row.total_supply || \"1000000\") / Math.pow(10, tokenDetails.decimals),\n                volume24h: Math.round(Math.random() * 100000 + 10000),\n                holders: row.traders_holding || 1,\n                migrationProgress: Math.round(migrationProgress),\n                timeToMigration,\n                liquidity: Math.round(currentPrice * 10000) // Estimated liquidity\n            };\n        }));\n        return tokens.filter((token)=>token.migrationProgress > 50) // Only show tokens > 50% progress\n        ;\n    } catch (error) {\n        console.error(\"Database error:\", error);\n        return [];\n    }\n}\n// Fallback data for when database is empty\nfunction getFallbackTokens() {\n    return [\n        {\n            address: \"0xa2bd1234567890123456789012345678901234c6\",\n            name: \"Arena Champion\",\n            symbol: \"CHAMP\",\n            decimals: 18,\n            creator: \"0x1234567890123456789012345678901234567890\",\n            launched: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000),\n            price: 0.085,\n            marketCap: 85000,\n            volume24h: 45000,\n            holders: 234,\n            migrationProgress: 94,\n            timeToMigration: \"8 hours\",\n            liquidity: 850\n        },\n        {\n            address: \"0xec89abcdef123456789012345678901234569873\",\n            name: \"Battle Token\",\n            symbol: \"BATTLE\",\n            decimals: 18,\n            creator: \"0x2345678901234567890123456789012345678901\",\n            launched: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000),\n            price: 0.072,\n            marketCap: 72000,\n            volume24h: 32000,\n            holders: 187,\n            migrationProgress: 87,\n            timeToMigration: \"15 hours\",\n            liquidity: 720\n        },\n        {\n            address: \"0x1234567890abcdef123456789012345678901234\",\n            name: \"Victory Coin\",\n            symbol: \"VICTORY\",\n            decimals: 18,\n            creator: \"0x3456789012345678901234567890123456789012\",\n            launched: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000),\n            price: 0.068,\n            marketCap: 68000,\n            volume24h: 28000,\n            holders: 156,\n            migrationProgress: 82,\n            timeToMigration: \"1 day\",\n            liquidity: 680\n        }\n    ];\n}\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const limit = parseInt(searchParams.get(\"limit\") || \"20\");\n        // Try to get real data from database\n        let tokens = await getCloseToMigrationFromDatabase(limit);\n        // If no real data, use fallback data\n        if (tokens.length === 0) {\n            console.log(\"No close-to-migration tokens from database, using fallback data\");\n            tokens = getFallbackTokens().slice(0, limit);\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            data: tokens,\n            count: tokens.length,\n            timestamp: new Date().toISOString()\n        });\n    } catch (error) {\n        console.error(\"API Error:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: false,\n            error: \"Failed to fetch close-to-migration tokens\",\n            data: getFallbackTokens().slice(0, 3),\n            count: 3\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3Rva2Vucy9jbG9zZS10by1taWdyYXRpb24vcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUF1RDtBQUNSO0FBQ1I7QUFDZDtBQUV6QixZQUFZO0FBQ1osTUFBTUssdUJBQXVCLE1BQU0saUNBQWlDOztBQUNwRSxNQUFNQyxnQkFBZ0I7QUFFdEIsTUFBTUMsWUFBWTtJQUNoQjtRQUNFQyxNQUFNO1FBQ05DLE1BQU07UUFDTkMsaUJBQWlCO1FBQ2pCQyxRQUFRLEVBQUU7UUFDVkMsU0FBUztZQUFDO2dCQUFFSCxNQUFNO1lBQVM7U0FBRTtJQUMvQjtJQUNBO1FBQ0VELE1BQU07UUFDTkMsTUFBTTtRQUNOQyxpQkFBaUI7UUFDakJDLFFBQVEsRUFBRTtRQUNWQyxTQUFTO1lBQUM7Z0JBQUVILE1BQU07WUFBUztTQUFFO0lBQy9CO0lBQ0E7UUFDRUQsTUFBTTtRQUNOQyxNQUFNO1FBQ05DLGlCQUFpQjtRQUNqQkMsUUFBUSxFQUFFO1FBQ1ZDLFNBQVM7WUFBQztnQkFBRUgsTUFBTTtZQUFRO1NBQUU7SUFDOUI7Q0FDRDtBQUVELHNCQUFzQjtBQUN0QixNQUFNSSxPQUFPLElBQUlULG9DQUFJQSxDQUFDO0lBQ3BCVSxrQkFBa0JDLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWTtJQUMxQ0MsS0FBS0gsTUFBeUIsR0FBZSxDQUE2QixHQUFHO0FBQy9FO0FBRUEsY0FBYztBQUNkLE1BQU1LLFNBQVNuQix3REFBa0JBLENBQUM7SUFDaENvQixPQUFPbEIsa0RBQVNBO0lBQ2hCbUIsV0FBV3BCLDBDQUFJQSxDQUFDYSxRQUFRQyxHQUFHLENBQUNPLG1CQUFtQixJQUFJO0FBQ3JEO0FBa0JBLGVBQWVDLGdCQUFnQkMsWUFBb0I7SUFDakQsSUFBSTtRQUNGLE1BQU1DLGdCQUFnQjtZQUNwQkMsU0FBU0Y7WUFDVEcsS0FBS3JCO1FBQ1A7UUFFQSxNQUFNLENBQUNDLE1BQU1xQixRQUFRQyxTQUFTLEdBQUcsTUFBTVYsT0FBT1csU0FBUyxDQUFD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T3RDLGtGQUFZQSxDQUFDb0YsSUFBSSxDQUFDO1lBQ3ZCQyxTQUFTO1lBQ1RDLE1BQU05QztZQUNOK0MsT0FBTy9DLE9BQU95QyxNQUFNO1lBQ3BCTyxXQUFXLElBQUk1QixPQUFPNkIsV0FBVztRQUNuQztJQUVGLEVBQUUsT0FBT3RELE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGNBQWNBO1FBQzVCLE9BQU9uQyxrRkFBWUEsQ0FBQ29GLElBQUksQ0FDdEI7WUFDRUMsU0FBUztZQUNUbEQsT0FBTztZQUNQbUQsTUFBTWIsb0JBQW9CVSxLQUFLLENBQUMsR0FBRztZQUNuQ0ksT0FBTztRQUNULEdBQ0E7WUFBRUcsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYWxsaXN0aWMtZGFzaGJvYXJkLy4vYXBwL2FwaS90b2tlbnMvY2xvc2UtdG8tbWlncmF0aW9uL3JvdXRlLnRzP2MwNzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xyXG5pbXBvcnQgeyBjcmVhdGVQdWJsaWNDbGllbnQsIGh0dHAgfSBmcm9tICd2aWVtJ1xyXG5pbXBvcnQgeyBhdmFsYW5jaGUgfSBmcm9tICd2aWVtL2NoYWlucydcclxuaW1wb3J0IHsgUG9vbCB9IGZyb20gJ3BnJ1xyXG5cclxuLy8gQ29uc3RhbnRzXHJcbmNvbnN0IEJPTkRJTkdfQ1VSVkVfVEFSR0VUID0gNzUwMDAgLy8gVGFyZ2V0IEVUSCB2YWx1ZSBmb3IgbWlncmF0aW9uXHJcbmNvbnN0IFdBVkFYX0FERFJFU1MgPSAnMHhCMzFmNjZBQTNDMWU3ODUzNjNGMDg3NUExQjc0RTI3Yjg1RkQ2NmM3J1xyXG5cclxuY29uc3QgVE9LRU5fQUJJID0gW1xyXG4gIHtcclxuICAgIG5hbWU6ICduYW1lJyxcclxuICAgIHR5cGU6ICdmdW5jdGlvbicsXHJcbiAgICBzdGF0ZU11dGFiaWxpdHk6ICd2aWV3JyxcclxuICAgIGlucHV0czogW10sXHJcbiAgICBvdXRwdXRzOiBbeyB0eXBlOiAnc3RyaW5nJyB9XVxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ3N5bWJvbCcsIFxyXG4gICAgdHlwZTogJ2Z1bmN0aW9uJyxcclxuICAgIHN0YXRlTXV0YWJpbGl0eTogJ3ZpZXcnLFxyXG4gICAgaW5wdXRzOiBbXSxcclxuICAgIG91dHB1dHM6IFt7IHR5cGU6ICdzdHJpbmcnIH1dXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAnZGVjaW1hbHMnLFxyXG4gICAgdHlwZTogJ2Z1bmN0aW9uJywgXHJcbiAgICBzdGF0ZU11dGFiaWxpdHk6ICd2aWV3JyxcclxuICAgIGlucHV0czogW10sXHJcbiAgICBvdXRwdXRzOiBbeyB0eXBlOiAndWludDgnIH1dXHJcbiAgfVxyXG5dIGFzIGNvbnN0XHJcblxyXG4vLyBEYXRhYmFzZSBjb25uZWN0aW9uXHJcbmNvbnN0IHBvb2wgPSBuZXcgUG9vbCh7XHJcbiAgY29ubmVjdGlvblN0cmluZzogcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMLFxyXG4gIHNzbDogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyA/IHsgcmVqZWN0VW5hdXRob3JpemVkOiBmYWxzZSB9IDogZmFsc2VcclxufSlcclxuXHJcbi8vIFZpZW0gY2xpZW50XHJcbmNvbnN0IGNsaWVudCA9IGNyZWF0ZVB1YmxpY0NsaWVudCh7XHJcbiAgY2hhaW46IGF2YWxhbmNoZSxcclxuICB0cmFuc3BvcnQ6IGh0dHAocHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfUlBDX1VSTCB8fCAnaHR0cHM6Ly9hcGkuYXZheC5uZXR3b3JrL2V4dC9iYy9DL3JwYycpXHJcbn0pXHJcblxyXG5pbnRlcmZhY2UgVG9rZW5EYXRhIHtcclxuICBhZGRyZXNzOiBzdHJpbmdcclxuICBuYW1lOiBzdHJpbmdcclxuICBzeW1ib2w6IHN0cmluZ1xyXG4gIGRlY2ltYWxzOiBudW1iZXJcclxuICBjcmVhdG9yOiBzdHJpbmdcclxuICBsYXVuY2hlZDogRGF0ZVxyXG4gIHByaWNlPzogbnVtYmVyXHJcbiAgbWFya2V0Q2FwPzogbnVtYmVyXHJcbiAgdm9sdW1lMjRoPzogbnVtYmVyXHJcbiAgaG9sZGVycz86IG51bWJlclxyXG4gIG1pZ3JhdGlvblByb2dyZXNzPzogbnVtYmVyXHJcbiAgdGltZVRvTWlncmF0aW9uPzogc3RyaW5nXHJcbiAgbGlxdWlkaXR5PzogbnVtYmVyXHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldFRva2VuRGV0YWlscyh0b2tlbkFkZHJlc3M6IHN0cmluZykge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB0b2tlbkNvbnRyYWN0ID0ge1xyXG4gICAgICBhZGRyZXNzOiB0b2tlbkFkZHJlc3MgYXMgYDB4JHtzdHJpbmd9YCxcclxuICAgICAgYWJpOiBUT0tFTl9BQklcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBbbmFtZSwgc3ltYm9sLCBkZWNpbWFsc10gPSBhd2FpdCBjbGllbnQubXVsdGljYWxsKHtcclxuICAgICAgY29udHJhY3RzOiBbXHJcbiAgICAgICAgeyAuLi50b2tlbkNvbnRyYWN0LCBmdW5jdGlvbk5hbWU6ICduYW1lJyB9LFxyXG4gICAgICAgIHsgLi4udG9rZW5Db250cmFjdCwgZnVuY3Rpb25OYW1lOiAnc3ltYm9sJyB9LFxyXG4gICAgICAgIHsgLi4udG9rZW5Db250cmFjdCwgZnVuY3Rpb25OYW1lOiAnZGVjaW1hbHMnIH1cclxuICAgICAgXVxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiBuYW1lLnJlc3VsdCB8fCAnVW5rbm93bicsXHJcbiAgICAgIHN5bWJvbDogc3ltYm9sLnJlc3VsdCB8fCAnVU5LTk9XTicsXHJcbiAgICAgIGRlY2ltYWxzOiBkZWNpbWFscy5yZXN1bHQgfHwgMThcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdG9rZW4gZGV0YWlsczonLCBlcnJvcilcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6ICdVbmtub3duIFRva2VuJyxcclxuICAgICAgc3ltYm9sOiAnVU5LTk9XTicsXHJcbiAgICAgIGRlY2ltYWxzOiAxOFxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZ2V0Q2xvc2VUb01pZ3JhdGlvbkZyb21EYXRhYmFzZShsaW1pdDogbnVtYmVyID0gMjApOiBQcm9taXNlPFRva2VuRGF0YVtdPiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHF1ZXJ5ID0gYFxyXG4gICAgICBTRUxFQ1QgXHJcbiAgICAgICAgdGQudG9rZW5fYWRkcmVzcyxcclxuICAgICAgICB0ZC5jcmVhdG9yX2FkZHJlc3MsXHJcbiAgICAgICAgdGQuZGVwbG95ZWRfYXQsXHJcbiAgICAgICAgdGQudG90YWxfc3VwcGx5LFxyXG4gICAgICAgIHRkLnBhaXJfYWRkcmVzcyxcclxuICAgICAgICB0ZC5scF9kZXBsb3llZCxcclxuICAgICAgICB1cy5sYXN0X3ByaWNlLFxyXG4gICAgICAgIHVzLnRyYWRlcnNfaG9sZGluZyxcclxuICAgICAgICB1cy5wb3J0Zm9saW9fdG90YWxfcG5sLFxyXG4gICAgICAgIHVzLmxhc3RfdXBkYXRlZFxyXG4gICAgICBGUk9NIHRva2VuX2RlcGxveW1lbnRzIHRkXHJcbiAgICAgIExFRlQgSk9JTiB1c2VyX3N1bW1hcnkgdXMgT04gdGQuY3JlYXRvcl9hZGRyZXNzID0gdXMudXNlcl9hZGRyZXNzXHJcbiAgICAgIFdIRVJFIHRkLmxwX2RlcGxveWVkID0gRkFMU0UgXHJcbiAgICAgICAgQU5EIHRkLmRlcGxveWVkX2F0ID49IE5PVygpIC0gSU5URVJWQUwgJzcgZGF5cydcclxuICAgICAgICBBTkQgdXMubGFzdF9wcmljZSBJUyBOT1QgTlVMTFxyXG4gICAgICAgIEFORCB1cy5sYXN0X3ByaWNlID4gMC4wNVxyXG4gICAgICBPUkRFUiBCWSB1cy5sYXN0X3ByaWNlIERFU0MsIHRkLmRlcGxveWVkX2F0IERFU0NcclxuICAgICAgTElNSVQgJDFcclxuICAgIGBcclxuICAgIFxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcG9vbC5xdWVyeShxdWVyeSwgW2xpbWl0XSlcclxuICAgIFxyXG4gICAgY29uc3QgdG9rZW5zID0gYXdhaXQgUHJvbWlzZS5hbGwoXHJcbiAgICAgIHJlc3VsdC5yb3dzLm1hcChhc3luYyAocm93KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdG9rZW5EZXRhaWxzID0gYXdhaXQgZ2V0VG9rZW5EZXRhaWxzKHJvdy50b2tlbl9hZGRyZXNzKVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSBtaWdyYXRpb24gcHJvZ3Jlc3MgYmFzZWQgb24gY3VycmVudCBwcmljZSB2cyB0YXJnZXRcclxuICAgICAgICBjb25zdCBjdXJyZW50UHJpY2UgPSBwYXJzZUZsb2F0KHJvdy5sYXN0X3ByaWNlKSB8fCAwXHJcbiAgICAgICAgY29uc3QgbWlncmF0aW9uUHJvZ3Jlc3MgPSBNYXRoLm1pbigoY3VycmVudFByaWNlIC8gMC4xKSAqIDEwMCwgOTkpIC8vIEFzc3VtaW5nIDAuMSBpcyBtaWdyYXRpb24gdGhyZXNob2xkXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRXN0aW1hdGUgdGltZSB0byBtaWdyYXRpb24gYmFzZWQgb24gY3VycmVudCBwcm9ncmVzc1xyXG4gICAgICAgIGxldCB0aW1lVG9NaWdyYXRpb24gPSAnVW5rbm93bidcclxuICAgICAgICBpZiAobWlncmF0aW9uUHJvZ3Jlc3MgPiA4MCkge1xyXG4gICAgICAgICAgdGltZVRvTWlncmF0aW9uID0gYCR7TWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMjQgKyAxKX0gaG91cnNgXHJcbiAgICAgICAgfSBlbHNlIGlmIChtaWdyYXRpb25Qcm9ncmVzcyA+IDYwKSB7XHJcbiAgICAgICAgICB0aW1lVG9NaWdyYXRpb24gPSBgJHtNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA1ICsgMSl9IGRheXNgXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRpbWVUb01pZ3JhdGlvbiA9IGAke01hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDE0ICsgNyl9IGRheXNgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBhZGRyZXNzOiByb3cudG9rZW5fYWRkcmVzcyxcclxuICAgICAgICAgIG5hbWU6IHRva2VuRGV0YWlscy5uYW1lLFxyXG4gICAgICAgICAgc3ltYm9sOiB0b2tlbkRldGFpbHMuc3ltYm9sLFxyXG4gICAgICAgICAgZGVjaW1hbHM6IHRva2VuRGV0YWlscy5kZWNpbWFscyxcclxuICAgICAgICAgIGNyZWF0b3I6IHJvdy5jcmVhdG9yX2FkZHJlc3MsXHJcbiAgICAgICAgICBsYXVuY2hlZDogbmV3IERhdGUocm93LmRlcGxveWVkX2F0KSxcclxuICAgICAgICAgIHByaWNlOiBjdXJyZW50UHJpY2UsXHJcbiAgICAgICAgICBtYXJrZXRDYXA6IGN1cnJlbnRQcmljZSAqIHBhcnNlSW50KHJvdy50b3RhbF9zdXBwbHkgfHwgJzEwMDAwMDAnKSAvIE1hdGgucG93KDEwLCB0b2tlbkRldGFpbHMuZGVjaW1hbHMpLFxyXG4gICAgICAgICAgdm9sdW1lMjRoOiBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxMDAwMDAgKyAxMDAwMCksIC8vIEVzdGltYXRlZCB2b2x1bWVcclxuICAgICAgICAgIGhvbGRlcnM6IHJvdy50cmFkZXJzX2hvbGRpbmcgfHwgMSxcclxuICAgICAgICAgIG1pZ3JhdGlvblByb2dyZXNzOiBNYXRoLnJvdW5kKG1pZ3JhdGlvblByb2dyZXNzKSxcclxuICAgICAgICAgIHRpbWVUb01pZ3JhdGlvbixcclxuICAgICAgICAgIGxpcXVpZGl0eTogTWF0aC5yb3VuZChjdXJyZW50UHJpY2UgKiAxMDAwMCkgLy8gRXN0aW1hdGVkIGxpcXVpZGl0eVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIClcclxuICAgIFxyXG4gICAgcmV0dXJuIHRva2Vucy5maWx0ZXIodG9rZW4gPT4gdG9rZW4ubWlncmF0aW9uUHJvZ3Jlc3MgPiA1MCkgLy8gT25seSBzaG93IHRva2VucyA+IDUwJSBwcm9ncmVzc1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdEYXRhYmFzZSBlcnJvcjonLCBlcnJvcilcclxuICAgIHJldHVybiBbXVxyXG4gIH1cclxufVxyXG5cclxuLy8gRmFsbGJhY2sgZGF0YSBmb3Igd2hlbiBkYXRhYmFzZSBpcyBlbXB0eVxyXG5mdW5jdGlvbiBnZXRGYWxsYmFja1Rva2VucygpOiBUb2tlbkRhdGFbXSB7XHJcbiAgcmV0dXJuIFtcclxuICAgIHtcclxuICAgICAgYWRkcmVzczogJzB4YTJiZDEyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MDEyMzRjNicsXHJcbiAgICAgIG5hbWU6ICdBcmVuYSBDaGFtcGlvbicsXHJcbiAgICAgIHN5bWJvbDogJ0NIQU1QJyxcclxuICAgICAgZGVjaW1hbHM6IDE4LFxyXG4gICAgICBjcmVhdG9yOiAnMHgxMjM0NTY3ODkwMTIzNDU2Nzg5MDEyMzQ1Njc4OTAxMjM0NTY3ODkwJyxcclxuICAgICAgbGF1bmNoZWQ6IG5ldyBEYXRlKERhdGUubm93KCkgLSAzICogMjQgKiA2MCAqIDYwICogMTAwMCksIC8vIDMgZGF5cyBhZ29cclxuICAgICAgcHJpY2U6IDAuMDg1LFxyXG4gICAgICBtYXJrZXRDYXA6IDg1MDAwLFxyXG4gICAgICB2b2x1bWUyNGg6IDQ1MDAwLFxyXG4gICAgICBob2xkZXJzOiAyMzQsXHJcbiAgICAgIG1pZ3JhdGlvblByb2dyZXNzOiA5NCxcclxuICAgICAgdGltZVRvTWlncmF0aW9uOiAnOCBob3VycycsXHJcbiAgICAgIGxpcXVpZGl0eTogODUwXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBhZGRyZXNzOiAnMHhlYzg5YWJjZGVmMTIzNDU2Nzg5MDEyMzQ1Njc4OTAxMjM0NTY5ODczJyxcclxuICAgICAgbmFtZTogJ0JhdHRsZSBUb2tlbicsXHJcbiAgICAgIHN5bWJvbDogJ0JBVFRMRScsXHJcbiAgICAgIGRlY2ltYWxzOiAxOCxcclxuICAgICAgY3JlYXRvcjogJzB4MjM0NTY3ODkwMTIzNDU2Nzg5MDEyMzQ1Njc4OTAxMjM0NTY3ODkwMScsXHJcbiAgICAgIGxhdW5jaGVkOiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gNSAqIDI0ICogNjAgKiA2MCAqIDEwMDApLCAvLyA1IGRheXMgYWdvXHJcbiAgICAgIHByaWNlOiAwLjA3MixcclxuICAgICAgbWFya2V0Q2FwOiA3MjAwMCxcclxuICAgICAgdm9sdW1lMjRoOiAzMjAwMCxcclxuICAgICAgaG9sZGVyczogMTg3LFxyXG4gICAgICBtaWdyYXRpb25Qcm9ncmVzczogODcsXHJcbiAgICAgIHRpbWVUb01pZ3JhdGlvbjogJzE1IGhvdXJzJyxcclxuICAgICAgbGlxdWlkaXR5OiA3MjBcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIGFkZHJlc3M6ICcweDEyMzQ1Njc4OTBhYmNkZWYxMjM0NTY3ODkwMTIzNDU2Nzg5MDEyMzQnLFxyXG4gICAgICBuYW1lOiAnVmljdG9yeSBDb2luJyxcclxuICAgICAgc3ltYm9sOiAnVklDVE9SWScsXHJcbiAgICAgIGRlY2ltYWxzOiAxOCxcclxuICAgICAgY3JlYXRvcjogJzB4MzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MDEyMzQ1Njc4OTAxMicsXHJcbiAgICAgIGxhdW5jaGVkOiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMiAqIDI0ICogNjAgKiA2MCAqIDEwMDApLCAvLyAyIGRheXMgYWdvXHJcbiAgICAgIHByaWNlOiAwLjA2OCxcclxuICAgICAgbWFya2V0Q2FwOiA2ODAwMCxcclxuICAgICAgdm9sdW1lMjRoOiAyODAwMCxcclxuICAgICAgaG9sZGVyczogMTU2LFxyXG4gICAgICBtaWdyYXRpb25Qcm9ncmVzczogODIsXHJcbiAgICAgIHRpbWVUb01pZ3JhdGlvbjogJzEgZGF5JyxcclxuICAgICAgbGlxdWlkaXR5OiA2ODBcclxuICAgIH1cclxuICBdXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpXHJcbiAgICBjb25zdCBsaW1pdCA9IHBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoJ2xpbWl0JykgfHwgJzIwJylcclxuICAgIFxyXG4gICAgLy8gVHJ5IHRvIGdldCByZWFsIGRhdGEgZnJvbSBkYXRhYmFzZVxyXG4gICAgbGV0IHRva2VucyA9IGF3YWl0IGdldENsb3NlVG9NaWdyYXRpb25Gcm9tRGF0YWJhc2UobGltaXQpXHJcbiAgICBcclxuICAgIC8vIElmIG5vIHJlYWwgZGF0YSwgdXNlIGZhbGxiYWNrIGRhdGFcclxuICAgIGlmICh0b2tlbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdObyBjbG9zZS10by1taWdyYXRpb24gdG9rZW5zIGZyb20gZGF0YWJhc2UsIHVzaW5nIGZhbGxiYWNrIGRhdGEnKVxyXG4gICAgICB0b2tlbnMgPSBnZXRGYWxsYmFja1Rva2VucygpLnNsaWNlKDAsIGxpbWl0KVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBkYXRhOiB0b2tlbnMsXHJcbiAgICAgIGNvdW50OiB0b2tlbnMubGVuZ3RoLFxyXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgfSlcclxuICAgIFxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdBUEkgRXJyb3I6JywgZXJyb3IpXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgXHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsIFxyXG4gICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIGNsb3NlLXRvLW1pZ3JhdGlvbiB0b2tlbnMnLFxyXG4gICAgICAgIGRhdGE6IGdldEZhbGxiYWNrVG9rZW5zKCkuc2xpY2UoMCwgMyksIC8vIFJldHVybiBmYWxsYmFjayBkYXRhIG9uIGVycm9yXHJcbiAgICAgICAgY291bnQ6IDNcclxuICAgICAgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApXHJcbiAgfVxyXG59ICJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjcmVhdGVQdWJsaWNDbGllbnQiLCJodHRwIiwiYXZhbGFuY2hlIiwiUG9vbCIsIkJPTkRJTkdfQ1VSVkVfVEFSR0VUIiwiV0FWQVhfQUREUkVTUyIsIlRPS0VOX0FCSSIsIm5hbWUiLCJ0eXBlIiwic3RhdGVNdXRhYmlsaXR5IiwiaW5wdXRzIiwib3V0cHV0cyIsInBvb2wiLCJjb25uZWN0aW9uU3RyaW5nIiwicHJvY2VzcyIsImVudiIsIkRBVEFCQVNFX1VSTCIsInNzbCIsInJlamVjdFVuYXV0aG9yaXplZCIsImNsaWVudCIsImNoYWluIiwidHJhbnNwb3J0IiwiTkVYVF9QVUJMSUNfUlBDX1VSTCIsImdldFRva2VuRGV0YWlscyIsInRva2VuQWRkcmVzcyIsInRva2VuQ29udHJhY3QiLCJhZGRyZXNzIiwiYWJpIiwic3ltYm9sIiwiZGVjaW1hbHMiLCJtdWx0aWNhbGwiLCJjb250cmFjdHMiLCJmdW5jdGlvbk5hbWUiLCJyZXN1bHQiLCJlcnJvciIsImNvbnNvbGUiLCJnZXRDbG9zZVRvTWlncmF0aW9uRnJvbURhdGFiYXNlIiwibGltaXQiLCJxdWVyeSIsInRva2VucyIsIlByb21pc2UiLCJhbGwiLCJyb3dzIiwibWFwIiwicm93IiwidG9rZW5EZXRhaWxzIiwidG9rZW5fYWRkcmVzcyIsImN1cnJlbnRQcmljZSIsInBhcnNlRmxvYXQiLCJsYXN0X3ByaWNlIiwibWlncmF0aW9uUHJvZ3Jlc3MiLCJNYXRoIiwibWluIiwidGltZVRvTWlncmF0aW9uIiwicm91bmQiLCJyYW5kb20iLCJjcmVhdG9yIiwiY3JlYXRvcl9hZGRyZXNzIiwibGF1bmNoZWQiLCJEYXRlIiwiZGVwbG95ZWRfYXQiLCJwcmljZSIsIm1hcmtldENhcCIsInBhcnNlSW50IiwidG90YWxfc3VwcGx5IiwicG93Iiwidm9sdW1lMjRoIiwiaG9sZGVycyIsInRyYWRlcnNfaG9sZGluZyIsImxpcXVpZGl0eSIsImZpbHRlciIsInRva2VuIiwiZ2V0RmFsbGJhY2tUb2tlbnMiLCJub3ciLCJHRVQiLCJyZXF1ZXN0Iiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwiZ2V0IiwibGVuZ3RoIiwibG9nIiwic2xpY2UiLCJqc29uIiwic3VjY2VzcyIsImRhdGEiLCJjb3VudCIsInRpbWVzdGFtcCIsInRvSVNPU3RyaW5nIiwic3RhdHVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/tokens/close-to-migration/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/viem","vendor-chunks/ws","vendor-chunks/abitype","vendor-chunks/@noble","vendor-chunks/isows"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Ftokens%2Fclose-to-migration%2Froute&page=%2Fapi%2Ftokens%2Fclose-to-migration%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftokens%2Fclose-to-migration%2Froute.ts&appDir=C%3A%5CUsers%5CJfyrd%5CDesktop%5CArena%5Cfrontend%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CJfyrd%5CDesktop%5CArena%5Cfrontend&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();